function C(r,n){if(n==="telefono")return S(r);if(n==="correo")return q(r)}function S(r){return/^[0-9]+$/gm.test(r)}function q(r){return/^\w+([.-_+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/.test(r)}const x="/portafolio/assets/ti-rotateClockwise-fb92b285.svg";document.addEventListener("DOMContentLoaded",function(){const r={nombre:!1,telefono:!1,correo:!1,mensaje:!1},n=document.querySelector("#nombre"),g=document.querySelector("#telefono"),d=document.querySelector("#correo"),b=document.querySelector("#mensaje"),u=document.querySelector("#formulario"),m=document.querySelector('#formulario button[type="submit"]'),l=document.createElement("DIV");l.setAttribute("id","error-tel-correo"),d.parentElement.appendChild(l),n.addEventListener("blur",s),g.addEventListener("blur",s),d.addEventListener("blur",s),b.addEventListener("blur",s),u.addEventListener("submit",p);function p(e){if(e.preventDefault(),!f())return;m.disabled=!0;const t=document.createElement("IMG");t.setAttribute("src",x),t.setAttribute("alt","icono de loading"),t.classList.add("icono-loading"),u.appendChild(t),setTimeout(()=>{t.remove();const o=document.createElement("P");o.classList.add("alerta-exito"),o.textContent="Mensaje enviado correctamente",u.appendChild(o),L(),setTimeout(()=>{o.remove()},3e3)},2e3)}function s(e){const t=e.target.value.trim();if(t===""&&(r[e.target.name]=!1,i()),e.target.name==="nombre"||e.target.name==="mensaje"){if(t===""){c(`El ${e.target.name} es obligatorio`,e.target.parentElement);return}r[e.target.name]=!0,a(e.target.parentElement),i();return}if(e.target.name==="telefono"||e.target.name==="correo"){if(t===""){a(e.target.parentElement),E(e.target.name)?a(l):c("Correo o email requerido",l);return}if(a(l),!C(t,e.target.name)){c(e.target.name==="telefono"?"Obligatorio formato numérico":"El email no es válido",e.target.parentElement),r[e.target.name]="error",i();return}r[e.target.name]=!0,a(e.target.parentElement),i()}}function c(e,t){a(t);const o=document.createElement("P");o.textContent=e,o.classList.add("alerta-error-form"),t.appendChild(o)}function a(e){const t=e.querySelector(".alerta-error-form");t&&t.remove()}function f(){return r.nombre&&r.telefono!=="error"&&r.correo!=="error"&&(r.telefono||r.correo)&&r.mensaje}function E(e){return e==="telefono"&&(r.correo==="error"||r.correo)?!0:e==="correo"&&(r.telefono==="error"||r.telefono)}function i(){if(!f()){m.disabled=!0;return}m.disabled=!1}function L(){r.nombre=!1,r.telefono=!1,r.correo=!1,r.mensaje=!1,u.reset(),i()}});
